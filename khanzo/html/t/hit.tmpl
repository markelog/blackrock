{{ $hit := .Data }}
{{ $qs := .QueryString }}
{{ $base := .BaseUrl }}
{{ $variant := .Variant }}
{{ $m := $hit.Metadata }}
{{ $foreignId := $m.ForeignId }}
{{ $foreignType := $m.ForeignType }}
<tr id="#{{$hit.ID}}" class="hit-header">
  <td>
    <a style="font-size: 18px" href="/scan/html/event_type:{{ $m.EventType }}?{{$qs}}">{{$m.EventType }}</a><br>
    <a href="/scan/html/{{$m.ForeignType}}:{{ $m.ForeignId }}?{{$qs}}">{{$m.ForeignType}}:{{$m.ForeignId}}</a><br>
    {{ time $m.CreatedAtNs }}, v{{$variant}}
    <br>
  </td>
  <td align="right">
 <a href="javascript: toggle({{$hit.ID}})">show</a>
  </td>
</tr>
{{ range $m.Search }}
<tr class="hit-details hit-{{$hit.ID}}">
  <td class="left">
    {{ .Key }}
  </td>
  <td class="right">
    {{ if eq .Key "ip" }}
    [ hidden ]
    {{ else }}
    <a href="/scan/html/{{ $foreignType }}:{{ $foreignId }}/{{ .Key }}:{{ .Value}}?{{$qs}}">{{.Value}}</a>
    {{ end }}
  </td>
</tr>
{{ end }}

{{ range $m.Count }}
<tr class="hit-details hit-{{$hit.ID}}">
  <td class="left">
      {{ .Key }}
  </td>
  <td class="right">
      {{.Value}}
  </td>
</tr>
{{ end }}


{{ range $m.Properties }}
<tr class="hit-details hit-{{$hit.ID}}">
  <td class="left">
      {{ .Key }}
  </td>
  <td class="right">
      {{.Value}}
  </td>
</tr>
{{ end }}

  {{ range $hit.Context }}
    <tr class="hit-details hit-{{$hit.ID}}">
      <td class="left" colspan=2>
        @{{.ForeignType}}:{{ .ForeignId }}
      </td>
    </tr>
    {{ range .Properties }}
    <tr class="hit-details hit-{{$hit.ID}}">
      <td class="left">
        &nbsp;&nbsp;{{.Key }}
      </td>
      <td class="right">
        {{.Value}}
      </td>
    </tr>
    {{ end }}
  {{ end }}
<tr>
<td colspan=2><hr></td>
</tr>